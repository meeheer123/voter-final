<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Voter Locator
    </title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='image/eci.jpg') }}">
</head>

<body>
<div class="container">
    <form name="aspnetForm" method="POST">
<div>
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="">
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="">
<input type="hidden" name="__LASTFOCUS" id="__LASTFOCUS" value="">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="aroVtwTMWw2XXq+vS/wYVTiKATtdOW09FtIFc/tsJaFt3D4oYoRqS/vpZALNwGDDQ6yNnqzwx/JA2wTZpt1FvDIMNSd3VO9UPL1O4quPcbfwMf5K1OTKE12QY2HeP5s8QzBQWwWksCt5ZXxqsPf9VacOkZQwr7XYDbIVWQXudz2nJ6K9OAkhNFQm+0BlvLv6nlHhIMP811ittv6wlKHn2m9GgPcS4tpEXHrgjEGKiqJn1jZ01zAjD5ZJfTxFyHi8n3ToutKABoNZSA2FEIIDj0hOXzC39r3WgyG9jq7PGukrJjK+O0E9Gkljib4V8i5twcQp6FLXm/dcPMCalJ3sivVMObhPmu81vrKyXkAk3yrmJGR44fK1lF9qrQhmp+12hah/R/wEtGYRQder7eceYAdPlJj//WHjwe5H/HUM0BlQLLKIK19GGE8eXMc3Ju7L8KV7IrD5L5/iiqumhz1C0Xea+mvCxKugOXNAwVa5RvwJTJDgvIpgkqFEnxEX+LNvipqJzH3ZmiuKoy3/Y2eiaoXQcKqH1VNpEG053L5j6Di1BvoKSi+5H6RPdjL9l92QJva6BUZanYLbz3ClChE5PLMe8rMICdrjQYiWAsvzmQitnFjvjNKoc7YtxkocFUnuJnHCcS/9Cai9vwrDsUiGDXcXdZXGD8SFJCT+oEKaL89xq0Zwji+0me9Hjt+6pSnyC2fHZmOM0dFFb66JKN7kWJAmCeR8tSDJEJVaPT3TsuwxcDPahyyl3rnfSN0G0InCYItDWGQebwQqog5p51h7YvxM9vkSpLR7raqRT61gU2Ou9ghPl3Lm7HiGIlR7045wGX8xoXMDhaXomBFAhPTAaGSv+2a+RiAB2igreM4+Cr8BJOc0m1Atb3xEgsa7Xy73qUVN3uN7JKhcGH3eYXvWIgDhSygEfMf44h3FtfOuB5MpzQSbzJVERoFEk9YA9JRb9PjvVaCAq6c9kVKfBzeCEZvsAnhTEoaTxp9Sk2xVUJJEup5uBtgqNa/5y80v6lmFdRdtQN2JdD5gLXMaNHfJfOCzogmzWgkR0n+5KlSvNFVMtK5KrulAoIMzcKVrdvWt">
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="85D78299">
	<input type="hidden" name="__VIEWSTATEENCRYPTED" id="__VIEWSTATEENCRYPTED" value="">
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="OSIOPTsUKk280XyQsd53m1+hfBe+22po4jxhncUCqok8s4FT2c2cP3jRt/TnS8Rj7XUix4ifLsmZYh+MMgGDgNeEFpR6c3+KIHTm5AUet1fvB9GZ8IE8hQNBr8AiXJysfA8t9ZmHfu7G1L6e24EPKnniADTfGGrTnMPq7PiYnpSaTD21ujkchL4NdMNl8uFK62/8VvFRg88YIBRUxsQlMb7jUf1aCM8uiZKHoFsEf0dRmop9iIs5bX1N6tXveVOW8VXyaE+x0CpNH9wULOBH+YXZe0QN65+RTs6pRrWfU4kvySrwzcHLhtebZJ3EIdB0mWs77Q26T0965oyDku0NtuwGUSUkUuioHg29Z4GifrKAItzmgsrMs3oTzofJIiDeZI7Mt6kbJTXxCqBRckYKqbX4QSF2oiz+L74DlRytqDOdyka1zNDBKaY7kmnuU+yXpNmTfHA2X3aXmhG8w3Zsng0NqpOpNH5vm3UK5qaObMSwRL3taGGeqdjX7+hRuiCBcTkO5K2TB9+0KAkrwLnZ2J45b5BFo7sUMOn5L5NVTsdC5UO0p1G3XPGh8teLi5Pvp+bFfJtDCRbvSvD1nlgMOCVrWciOTO9+T6IxYHqQIBbp7/VA9Qmm7DxEOCkabrzivZja0uTKgN7OyX11vD+o4pkdliPQdNF1eIC9QdKuO27zZRK84H8Itq/xVwXxsVYF9qUTz6ct2wErjqgYqUqtb1ahgJ+wgvRNhEF7h3t489Xvlsy0wI2hTYhmO9M7UmO2EywWiUFfsCzr3wZd93XsZhQUkhubKmhE1m6pc6VVu5wJKom/iT/aq+tjlgQG8V+TwZ71tR57keaoVocKJBJb9RRY11+OpePNTzf/Y+wfo3xVEn7egc8I+JegT2uvMor3S6JVkb8AYj3QqFztJZ01nvuJk0k7O6Te2DHFbayHA1s4nFzJqsAe7yOeYbzd4neleEbFiIseNDP7Ovn5Wtls9xmVx2q/2N/t9LftBxfsU6s1Z9dYyObeIVwILAUcOVFoyQN3nNDH1pfNdXAhNzfVQeZoPH3Rf/qDx7jqhI+xHAmQ3SIy8S3HcWewFd9LeLiPTQaHNf8BlD1LZZXfg1f6ZXA1r/ZK5YU+9qEDAkCuiAqqiElD77b01ShooyZau38F52+Svdkb0q0ktABMsjJz7VnBLLlz2bApK/PMFAFaNQBQbXfIsIYIcP5W47WK3ChO">
</div>
    <header class="header">
        <div class="logo">
        <a href="https://ceo.maharashtra.gov.in/" title="CEO Maharashtra Homepage" ><img src="/static/image/eci.jpg" alt="CEO Maharashtra"></a>
       </div>
        <hgroup>
            <h1>DEMO WEBSITE</h1>
            <h1>Voter Navigation App</h1>
            <h2>Greater Participation for a Stronger Democracy</h2>
        </hgroup>
    	<nav>
		    <ul>
             <li><a style="float:left;margin-left:20px;margin-top:5px;" href="https://ceo.maharashtra.gov.in/">Home</a></li>
		    </ul>				
		</nav>	     
    </header>
    <div class="conatiner2">
        <article>
    <h2>Search <span style="color:blue">Election Location Locator</span> 2024</h2>
    <table class="bordered">
        <tbody>
            
    <!-- <th><label for="city">Select District:</label></th> -->
    <td>
        <select id="city" name="city">
            <option value="">Select District</option>
            {% for city in cities %}
                <option value="{{ city }}">{{ city }}</option>
            {% endfor %}
        </select>
                
    </td>
</tr>
<tr>
    <!-- <th><label for="region">Select Assembly Constituency:</label></th> -->
    <td>
        <select id="region" name="region" disabled>
            <option value="">Select Assembly Constituency</option>
            <!-- Options will be populated using JavaScript -->
        </select>
</td>
</tr>
<tr>
    <!-- <th><label for="ward">Select Ward:</label></th> -->
    <td>
        <select id="ward" name="ward" disabled>
            <option value="">Select Ward</option>
            <!-- Options will be populated using JavaScript -->
        </select>
                
            </td>
        </tr>
         <tr>
           <!-- <th>Language of E-Rolls</th> -->
            <!-- <td>
                 <span id="ctl00_Content_LangTypepdf" style="color:#336699;"><input type="radio" name="ctl00$Content$LangTypepdf" value="1" checked="checked"><label for="ctl00_Content_LangTypepdf_0">Marathi</label>
                    <input id="ctl00_Content_LangTypepdf_1" type="radio" name="ctl00$Content$LangTypepdf" value="2" ><label for="ctl00_Content_LangTypepdf_1">English </label>
                    <input id="ctl00_Content_LangTypepdf_2" type="radio" name="ctl00$Content$LangTypepdf" value="3" ><label for="ctl00_Content_LangTypepdf_2">Urdu</label>
                    <input id="ctl00_Content_LangTypepdf_3" type="radio" name="ctl00$Content$LangTypepdf" value="4" ><label for="ctl00_Content_LangTypepdf_3">Kannada</label></span>
            </td> -->
        </tr>
        <tr>
            <!-- <td style="text-align: right"><input name="ctl00$Content$txtcaptcha" type="text" id="ctl00_Content_txtcaptcha" style="width:200px;" fdprocessedid="h6t3b"></td>
            <td>
               <img style="WIDTH: 200px; HEIGHT: 34px" alt="" src="{{ url_for('static', filename='Captcha.aspx') }}">&nbsp;<a href="/" id="uu">Refresh</a>
            </td> -->
        </tr>
        <tr>
           <!-- <td>
               </td>  -->
            <td>
                
                <button type="button" onclick="submitForm()" class="button">Submit</button>
            </td>
        </tr>
    </tbody></table>


   </article>
    </div>
    </form>
    <footer>
	    <!-- <p>Copyright Â© 2013 Office of the Chief Electoral Officer, Maharashtra, All rights reserved.</p>          -->
    </footer>
</div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var cityDropdown = document.getElementById('city');
            var regionDropdown = document.getElementById('region');
            var wardDropdown = document.getElementById('ward');

            cityDropdown.addEventListener('change', function() {
                // Reset region and ward dropdowns
                regionDropdown.innerHTML = '<option value="">Select Assembly Constituency</option>';
                wardDropdown.innerHTML = '<option value="">Select Ward</option>';

                // Fetch regions for the selected city
                fetch('/get_regions/' + cityDropdown.value)
                    .then(response => response.json())
                    .then(data => {
                        // Populate region dropdown
                        data.forEach(function(region) {
                            var optionElement = document.createElement('option');
                            optionElement.value = region;
                            optionElement.text = region;
                            regionDropdown.add(optionElement);
                        });

                        // Enable region dropdown
                        regionDropdown.disabled = false;
                    });
            });

            regionDropdown.addEventListener('change', function() {
                // Reset ward dropdown
                wardDropdown.innerHTML = '<option value="">Select Ward</option>';

                // Fetch wards for the selected city and region
                fetch('/get_wards/' + cityDropdown.value + '/' + regionDropdown.value)
                    .then(response => response.json())
                    .then(data => {
                        // Populate ward dropdown
                        data.forEach(function(ward) {
                            var optionElement = document.createElement('option');
                            optionElement.value = ward.id + ' - ' + ward.name;
                            optionElement.text = ward.id + ' - ' + ward.name;
                            wardDropdown.add(optionElement);
                        });

                        // Enable ward dropdown
                        wardDropdown.disabled = false;
                    });
            });
        });

        function submitForm() {
            var city = document.getElementById('city').value;
            var region = document.getElementById('region').value;
            var ward = document.getElementById('ward').value;

            var formData = {
                city: city,
                region: region,
                ward: ward
            };

            // Assuming you're using AJAX to send data to the Flask backend
            // You can use libraries like Axios or the native Fetch API

            // Example using Fetch API
            fetch('/submit_form', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
            })
            .then(response => response.json())
            .then(data => {
                // console.log('Success:', data);
                // Handle success as needed
            })
            .catch((error) => {
                console.error('Error:', error);
                // Handle errors as needed
            });
            window.location.href = '/user';
        }
    </script>
</body>
</html>



